<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generator</title>
</head>
<body>
  Generator
  <script>
    function *TestGen(x) {
      let y = 2 * (yield (x + 1))
      let z = yield y / 3
      return x + y + z
    }
    // const it = TestGen(1)
    // console.log(it)
    // console.log(it.next(3)) // 2 传参无效
    // console.log(it.next(3)) // 2
    // console.log(it.next(4)) // 11
    // console.log(it.next(5)) // undefined

    function autoRunGen(gen) {
      return (...args) => {
        const it = gen(...args)
        let res = it.next()
        while(!res.done) {
          res = it.next(res.value)
        }
        return res.value
      }
    }

    const val = autoRunGen(TestGen)(5)
    console.log(val)

  </script>
</body>
</html>